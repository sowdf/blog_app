!function(e){function t(n){if(a[n])return a[n].exports;var s=a[n]={exports:{},id:n,loaded:!1};return e[n].call(s.exports,s,s.exports,t),s.loaded=!0,s.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){var n=a(8),s=(a(1),a(6));n.init(),s.init()},function(e,t){function a(e,t,a,n,s){var l=new XMLHttpRequest;l.open(e,t,a),l.responseType=n,l.onreadystatechange=function(){if(4==l.readyState&&200==l.status){var e=l.response;s(e)}},l.send()}var n={getArticleList:function(e,t,n,s){var l="/ajax?itemNum="+e;l=n?l+"&&tag="+n+"&&page="+t:l+"&&page="+t,a("GET",l,!0,"json",function(e){s(e)})},getOneArticle:function(e,t){var n="/ajax?id="+e;a("GET",n,!0,"json",function(e){t(e)})},getTags:function(e){var t="/ajax?tags=All";a("GET",t,!0,"json",function(t){e(t)})},deleteArt:function(e){var t="/ajax?delete=true&&id="+e;a("GET",t,!0,"json",function(e){})}};e.exports=n},function(e,t){var a={_on:function(e){e.className=e.className+" "+e.className+"-on"},_off:function(e){var t=e.className.replace(/[A-Za-z-]+-on/g,""),a=t.trim();e.className=a},_listClear:function(){console.log("clear");for(var e=document.getElementsByClassName("content-articles")[0],t=document.getElementsByClassName("content-articles-item"),a=t.length,n=0;a>n;n++)e.removeChild(t[0])},_tableClear:function(){for(var e=document.getElementsByTagName("TBODY")[0],t=document.getElementsByTagName("TR"),a=t.length,n=1;a>n;n++)e.removeChild(t[1])}};e.exports=a},,,,function(e,t,a){function n(e){for(var t=document.getElementsByClassName("content-articles")[0],a=e.list,n=a.length-1;n>=0;n--){var s=a[n].title,l=(a[n].tag,a[n].main),c=a[n].link,o=a[n].date,r=new i.ArticleItem,d=markdown.toHTML(l.slice(0,100));r._title(s),r._prev(d),r._date(o),r._link(c),t.appendChild(r._item)}m.total=e.total}function s(e){var t=document.getElementsByClassName("content-detail-title")[0],a=document.getElementsByClassName("content-detail-tag")[0].children[0],n=document.getElementsByClassName("content-detail-date")[0].children[0],s=document.getElementsByClassName("content-detail-main")[0];t.innerText=e.title,a.innerText=e.tag,n.innerText=e.date;var l=markdown.toHTML(e.main),c=l.replace(/<code>/g,"<pre><code>"),o=c.replace(/<\/code>/g,"</code></pre>");s.innerHTML=o;for(var i=document.getElementsByTagName("code"),r=0;r<i.length;r++){var m=i[r].childNodes[0].data,d=m.match(/[A-Za-z][^\s]+/);null!==d&&"complete"===document.readyState&&d!==[""]&&(i[r].className=d,hljs.highlightBlock(i[r]))}hljs.highlightBlock(s)}function l(e){for(var t=document.getElementsByClassName("tagbar-list")[0],a=0;a<e.list.length;a++){var n=i.tagItem(e.list[a]);t.appendChild(n)}}function c(e){var t=window.innerHeight,a=document.getElementsByClassName("content")[0];console.log("1"),a.addEventListener("scroll",function(){var n=a.scrollTop,s=a.scrollHeight,l=document.getElementsByClassName("content-articles-item");if(null!==location.hash.match(/#[0-9]+/)&&n-s+t===0&&e.total>l.length){var c=location.hash.match(/#[0-9]+/)[0].slice(1),o=parseInt(c)+1;console.log(c),location.hash=location.hash.replace(/#[0-9]+/,"#"+o)}})}var o=a(1),i=a(7),r={getArticleList:function(){var e,t,a,s,l=location.hash;if(a=5,"#articles"===l)return void(location.hash+="#1");e=l.match(/#[^#]+/g)[1];var c=e.replace(/#/,"");if(c==parseInt(c))t=c,s=void 0;else{if(3!==l.match(/#[^#]+/g).length)return void(location.hash+="#1");t=l.match(/#[^#]+/g)[2].replace(/#/,""),s=c}o.getArticleList(a,t,s,n)},getOneArticle:function(){var e=location.hash.slice(11);o.getOneArticle(e,s)},getTags:function(){o.getTags(l)},init:function(){o.getTags(l),window.addEventListener("hashchange",function(){var e=location.hash.match(/#[^#]+/);document.getElementsByClassName("content-articles")[0];null!==e&&("#articles"===e[0]?r.getArticleList():"#detail"===e[0]&&r.getOneArticle())}),c(m)}};e.exports=r;var m={}},function(e,t){var a={ArticleItem:function(){var e=document.createElement("DIV"),t=document.createElement("H3"),a=document.createElement("DIV"),n=document.createElement("DIV"),s=document.createElement("SPAN"),l=document.createElement("A");e.className="content-articles-item",t.className="articles-item-header",a.className="articles-item-preview markdown",n.className="articles-item-detail articles-item-rotate",s.className="articles-item-rotate-front",l.className="articles-item-btn",e.appendChild(t),e.appendChild(a),e.appendChild(n),n.appendChild(s),n.appendChild(l),l.innerText="继续阅读",this._item=e,this._title=function(e){t.innerText=e},this._prev=function(e){a.innerHTML=e},this._date=function(e){s.innerText=e},this._link=function(e){l.setAttribute("href",e)}},tagItem:function(e){var t=document.createElement("DIV"),a=document.createElement("A");t.appendChild(a);var n="#articles#"+e;return t.className="tagbar-list-item",a.innerText=e,a.setAttribute("href",n),t}};e.exports=a},function(e,t,a){function n(){if(null!==location.hash.match(/#[0-9]+/)&&"#1"===location.hash.match(/#[0-9]+/)[0])return void s._listClear();if(null!==location.hash.match(/#[0-9]+/)){var e=location.hash.match(/#[0-9]+/)[0].slice(1),t=document.getElementsByClassName("content-articles-item");(t.length>=5*parseInt(e)||t.length<5*parseInt(e)-5)&&(location.hash="#cover")}}var s=a(2),l=(a(1),{sidebar:function(){var e=document.getElementsByClassName("app-container")[0],t=document.getElementsByClassName("sidebar-mobile-btn")[0],a=document.getElementsByClassName("sidebar")[0],n=document.getElementsByClassName("tagbar")[0],s=document.getElementsByClassName("content-mask")[0],l=document.getElementsByClassName("sidebar-list-item")[1];t.addEventListener("click",function(){e.className="app-container sidebar-open"}),s.addEventListener("click",function(){e.className="app-container",n.className="tagbar"}),a.addEventListener("click",function(){"tagbar tagbar-on"===n.className&&"A"!==event.target.tagName&&(n.className="tagbar"),"A"===event.target.tagName&&(e.className="app-container",n.className="tagbar")}),l.addEventListener("click",function(){"tagbar"===n.className&&(n.className="tagbar tagbar-on",event.stopPropagation())}),n.addEventListener("click",function(){"A"===event.target.tagName&&(n.className="tagbar",e.className="app-container")})},init:function(){if("/"!==location.pathname&&(location.pathname="/"),"#close"===location.hash){location.hash="#enter";var e=document.getElementsByClassName("enter-content")[0],t=e.children[1];t.innerText="死",t.style.fontSize="4em",t.style.fontWeight="700",t.style.color="#d25349",setTimeout(function(){location.reload()},3e3)}else location.hash="#cover";var a=document.getElementsByClassName("cover")[0],c=document.getElementsByClassName("content-articles")[0],o=document.getElementsByClassName("content-detail")[0],i=document.getElementsByClassName("content-about")[0],r=document.getElementsByClassName("enter")[0];l.sidebar(),window.addEventListener("hashchange",function(){s._off(a),s._off(c),s._off(o),s._off(i),s._off(r);var e=location.hash;switch(""!==e&&(e=e.match(/^\#[^\#]+/)[0]),e){case"#cover":s._listClear(),s._on(a);break;case"#articles":n(),s._on(c);break;case"#detail":s._listClear(),s._on(o);break;case"#about":s._listClear(),s._on(i);break;case"#enter":s._listClear(),s._on(r)}})}});e.exports=l}]);